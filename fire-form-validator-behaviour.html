<link rel="import" href="../polymer/polymer.html">

<script>

    /**
     * @demo demo/index.html
     * @polymerBehavior
     */
    Polymer.FireFormValidatorBehavior = {
        properties: {},

        listeners: {
            'iron-form-element-register': '_registerElement'
        },
        ready: function () {
            // Holds all the custom elements registered with this form.
            this._customElements = [];
        },
        _registerElement: function (e) {
            if (this !== e.target) {
                this._customElements.push(e.target);
            }
        },
        _validateAll: function () {
            var valid = true;
            for (var el, i = 0; el = this._customElements[i], i < this._customElements.length; i++) {
                valid = el.validate() && valid;
            }
            return valid;
        },
        validate: function () {
            return this._validateAll();
        }

    };
</script>
