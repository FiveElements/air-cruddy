<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="fire-form-logic-behaviour.html">
<link rel="import" href="fire-form-data-initialisation-behaviour.html">
<link rel="import" href="fire-form-serialization-behaviour.html">
<link rel="import" href="fire-form-validator-behaviour.html">
<link rel="import" href="fire-form-ajax-behaviour.html">

<!--

The `fire-form` provides lightweight way to implement all CRUD (Create, Retrieve, Update, Delete) Operations on an REST Api with all the expected services :
 - Validation
 - Conflict Resolution on 409.
 - Auto Save Feature

 Example:
  <fire-form data="{{data}}" entityid="{{entityid}}" endpoint="/s/users" autosave >
      <section>
        <paper-input-decorator floatingLabel label="First name" autoValidate>
          <input is="core-input" value="{{ data._source.firstname}}" required>
        </paper-input-decorator>
      </section>
  </fire-form>

### Server Data Format
Example of Get Entity Server Format:
    { _id: "AAApkZAAOAAAQYEAAJ",
      _index: "users",
      _source: {
        firstname: "NICOLE",
        lastname: "ABBO"
      },
      _type: "user",
      _version: 1,
      found: true
    }



### Validation
TODO



### Conflict Resolution
When Save Error 409 is raised from server
AutoSave
---------
Attribute available:
 - autosave
 - autocreate
 - autoupdate

@group Fire Elements
@element fire-form
@demo demo/index.html
-->

<dom-module id="fire-form">

    <style>
        :host {
            display: block;
        }
    </style>
    <template>
        <content></content>
    </template>
</dom-module>

<script>
    (function () {
        'use strict';

        Polymer({
            is: 'fire-form',

            behaviors: [
                Polymer.FireFormLogicBehavior,
                Polymer.FireFormDataInitialisationBehavior,
                Polymer.FireFormValidatorBehavior,
                Polymer.FireFormSerializaionBehavior,
                Polymer.FireFormAjaxBehavior
            ],

            properties: {}

        });
    })();
</script>