<link rel="import" href="../polymer/polymer-element.html">

<link rel="import" href="../air-cascade-validator/air-cascade-validator.html">

<link rel="import" href="air-cruddy-mixin.html">
<link rel="import" href="air-cruddy-adapter-elasticsearch-mixin.html">


<!--
`air-cruddy`
Polymer Element air-cruddy

@group Air Elements
@demo demo/index.html
-->

<dom-module id="air-cruddy">
    <template strip-whitespace>
        <style>
            :host {
                display: block;
            }
        </style>
        <!--<button on-tap="retrieve">Retrieve</button>-->
        <!--<button on-tap="retrieveById">Retrieve 404</button>-->
        <!--<button on-tap="newEntity">New</button>-->

        <!--<button on-tap="validate">Validate</button>-->
        <!--<button on-tap="save">Save</button>-->
        <!--<button on-tap="delete">Delete</button>-->

        <!--<h2 on-tap="retrieve">Hello [[url]]</h2>-->
        <air-cascade-validator id="validator" invalid-nodes="{{invalidNodes}}" auto-focus="[[autoFocus]]">
            <slot id="crudContent"></slot>
        </air-cascade-validator>
    </template>

    <script>
        class AirCruddy extends FiveElements.AirCruddyAdapterElasticsearchMixin(FiveElements.AirCruddyMixin(Polymer.Element)) {
            static get is() {
                return 'air-cruddy';
            }

            static get properties() {
                return {
                    invalidNodes: {
                        type: Array,
                        readonly: true,
                        notify: true
                    },
                    /**
                     * Auto focus on invalid Nodes
                     */
                    autoFocus: {
                        type: Boolean,
                        value: true
                    }
                };
            }

        }

        window.customElements.define(AirCruddy.is, AirCruddy);
    </script>
</dom-module>
