<link rel="import" href="../polymer/polymer.html">

<script>

    /**
     * @polymerBehavior
     */
    Polymer.AirCruddySerializaionBehavior = {

        properties: {
            /**
             * Send All The Data to Update and not alone the diiferential updated by user.
             */
//            fullUpdate: {
//                type: Boolean,
//                value: false
//            }
        },

        // --- External Apis
        // --- ---------------------------

//        _setData: function (data) {
//            throw new Error('Not Implemented');
//        },

        // --- Entity Serialization Apis
        // --- ---------------------------
        _serializeDataCreate: function (data) {
            var opt = {
                body: data._source
            };
            this.serialize(opt);
        },

        _serializeDataUpdate: function (data) {
            var opt = {
                version: data._version,
                body: data._source
            };
            this.serialize(opt);
        },
        _serializeDataDelete: function (data) {
            var opt = {
                version: data._version
            };
            this.serialize(opt);
        },

        // --- Implementations Apis
        // --- ---------------------------

        _serializeStringify: function (data) {
            if (data) {
                return JSON.stringify(data);
            }
            return null;
        },

        serialize: function () {
            var dataAsString = this._serializeStringify(this.data);
            return dataAsString;
        },

        // -- Deserialisation
        // --- ---------------------

        _deserializeData: function (data) {
           return data;
        }
    };
</script>
