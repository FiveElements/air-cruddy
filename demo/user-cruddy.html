<link rel="import" href="../../polymer/polymer.html">

<link rel="import" href="../air-cruddy.html">
<link rel="import" href="../../iron-icon/iron-icon.html">
<link rel="import" href="../../iron-icons/iron-icons.html">

<link rel="import" href="../../iron-selector/iron-selector.html">

<link rel="import" href="../../paper-input/paper-input.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../paper-toggle-button/paper-toggle-button.html">

<link rel="import" href="../../paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../paper-slider/paper-slider.html">

<link rel="import" href="../../air-cruddy-cloudy/air-cruddy-cloudy-es.html">


<!--

The `user-form` provides  

@group Demo Elements
@element user-form
-->

<dom-module id="user-cruddy">

    <style>
        :host {
            display: block;
        }
        .line {
            margin-bottom: 40px;
        }
        .line span {
            margin-left: 24px;
        }

        .iron-selected {
            background: #eee;
        }
    </style>
    <template>
        <h1>Edit User Id <span>{{userId}}</span></h1>
        <section>
            <paper-button on-tap="save">
                <iron-icon icon="save"></iron-icon>
                <span>Save</span>
            </paper-button>
            <paper-button on-tap="createNewUser">
                <iron-icon icon="add"></iron-icon>
                <span>Create New User</span>
            </paper-button>
            <paper-button on-tap="loadUser1">
                <iron-icon icon="user"></iron-icon>
                <span>Load LeiLoo</span>
            </paper-button>
            <paper-button on-tap="loadUser2">
                <iron-icon icon="user"></iron-icon>
                <span>Korben</span>
            </paper-button>
            <paper-button on-tap="loadUserBadId">
                <iron-icon icon="user"></iron-icon>
                <span>404</span>
            </paper-button>
        </section>

        <air-cruddy id="userCrud" crud-api="air-cruddy-cloudy-es" endpoint="http://localhost:9200/5elements/5elements"
                    entity-id="{{userId}}" data="{{data}}">
            <paper-input label="Firstname" value="{{data._source.firstname}}" required></paper-input>
            <paper-input label="Lastname" value="{{data._source.lastname}}" required></paper-input>
            <br>

            <div class="vertical layout">
                <paper-checkbox checked="{{data._source.pizza}}" >I like pizza</paper-checkbox>
                <paper-checkbox checked="{{data._source.donuts}}">I like donuts</paper-checkbox>
            </div>
            <br>

            <div class="vertical layout">
                <div class="line"><paper-toggle-button checked="{{data._source.oxygen}}"></paper-toggle-button><span>Oxygen</span></div>
                <div class="line"><paper-toggle-button checked="{{data._source.carbon}}"></paper-toggle-button><span>Carbon</span></div>
            </div>


            <h1>Buggy: if value is undefined</h1>
            <paper-radio-group selected="{{data._source.size}}"  class="vertical layout">
                <paper-radio-button name="small">Small</paper-radio-button>
                <paper-radio-button name="medium">Medium</paper-radio-button>
                <paper-radio-button name="large">Large</paper-radio-button>
            </paper-radio-group>

            <br>


            <iron-selector attr-for-selected="name" selected="{{data._source.llkk}}">
                <div name="foo">Foo</div>
                <div name="bar">Bar</div>
                <div name="zot">Zot</div>
            </iron-selector>


            <iron-dropdown horizontal-align="right" vertical-align="top">
                <div class="dropdown-content">Hello!</div>
            </iron-dropdown>

            <paper-slider min="10" max="200" value="{{data._source.slider}}"></paper-slider>

            <label>Browsers</label>
            <input list="browsers" name="browsers">
            <datalist id="browsers">
                <option value="Internet Explorer">
                <option value="Firefox">
                <option value="Chrome">
                <option value="Opera">
                <option value="Safari">
            </datalist>


        </air-cruddy>
    </template>
</dom-module>

<script>
    (function () {
        'use strict';

        Polymer({
            is: 'user-cruddy',

            properties: {
                userId: {
                    type: String,
                    notify: true,
                    value: 'AAApkZAAOAAAQJsAAs'
                },
                data: {
                    type: Object,
                    notity: true
                }
            },
            save: function (event) {
                this.$.userCrud.save();
            }
            ,
            createNewUser: function () {
                console.log('Create New User form');
                // this.set('userId', null);
                // this.userId= '';
                this.$.userCrud.newEntity();
            },
            loadUser1: function () {
                console.log('Load User with Id 1');
                //               this.set('userId', '1');
                this.userId = '1';
            },
            loadUser2: function () {
                console.log('Load User with Id 2');
                //               this.set('userId', '1');
                this.userId = '2';
            },
            loadUserBadId: function () {
                this.userId = 'badId';
            }

        });
    })();
</script>