<link rel="import" href="../../polymer/polymer.html">

<link rel="import" href="../air-cruddy.html">
<link rel="import" href="../../iron-icon/iron-icon.html">
<link rel="import" href="../../iron-icons/iron-icons.html">

<link rel="import" href="../../paper-input/paper-input.html">
<link rel="import" href="../../paper-button/paper-button.html">

<link rel="import" href="../../air-cruddy-ajax/air-cruddy-ajax-es.html">


<!--

The `user-form` provides  

@group Demo Elements
@element user-form
-->

<dom-module id="user-cruddy">

    <style>
        :host {
            display: block;
        }
    </style>
    <template>
        <h1>Edit User Id <span>{{userId}}</span></h1>
        <section>
            <paper-button  on-tap="save">
                <iron-icon icon="save"></iron-icon>
                <span>Save</span>
            </paper-button>
            <paper-button  on-tap="createNewUser">
                <iron-icon icon="add"></iron-icon>
                <span>Create New User</span>
            </paper-button>
            <paper-button  on-tap="loadUser1">
                <iron-icon icon="user"></iron-icon>
                <span>Load LeiLoo</span>
            </paper-button>
            <paper-button  on-tap="loadUser2">
                <iron-icon icon="user"></iron-icon>
                <span>Korben</span>
            </paper-button>
        </section>

        <air-cruddy id="userCrud" crud-api="air-cruddy-ajax-es" endpoint="/5elements/5elements" entity-id="{{userId}}" data="{{data}}">
            <paper-input label="Firstname" value="{{data._source.firstname}}" required></paper-input>
            <paper-input label="Lastname" value="{{data._source.lastname}}" required></paper-input>
            <br>

            <input type="checkbox" name="food" value="donuts" checked> I like donuts<br>
            <input type="checkbox" name="food" value="pizza"> I like pizza<br>
            <br>

            <input type="radio" name="color" value="red" checked>Red<br>
            <input type="radio" name="color" value="blue" checked>Blue<br>
            <input type="radio" name="color" value="green">Green<br>

            <br>
            <label>Browsers</label>
            <input list="browsers" name="browsers">
            <datalist id="browsers">
                <option value="Internet Explorer">
                <option value="Firefox">
                <option value="Chrome">
                <option value="Opera">
                <option value="Safari">
            </datalist>
        </air-cruddy>
    </template>
</dom-module>

<script>
    (function () {
        'use strict';

        Polymer({
            is: 'user-cruddy',

            properties: {
                userId: {
                    type: String,
                    notify: true,
                    value: 'AAApkZAAOAAAQJsAAs'
                },
//                endpoint: {
//                    type: String,
//                    notify: true,
//                    value: '/s/users'
//                },
                data: {
                    type: Object,
                    value: {
                        _id: null,
                        _version: null,
                        _source: {}
                    },
                    notity: true
                }
            },
            save: function (event) {
                this.$.userCrud.save();
            }
            ,
            createNewUser: function() {
                console.log('Create New User form');
               // this.set('userId', null);
               // this.userId= '';
                this.$.userCrud.newEntity();
            },
            loadUser1: function() {
                console.log('Load User with Id 1');
 //               this.set('userId', '1');
                this.userId= '1';
            },
            loadUser2: function() {
                console.log('Load User with Id 2');
                //               this.set('userId', '1');
                this.userId= '2';
            }

        });
    })();
</script>